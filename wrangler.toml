# Configuración de Cloudflare Workers para la API de Ecdotica

name = "ecdotica-api"
main = "src/api/main.py"
compatibility_date = "2025-11-19"
workers_dev = true

# Variables comunes (globales)
[vars]
API_VERSION = "1.0.1"

# Variables y configuración para entorno de producción
[env.production]
name = "ecdotica-api"
route = { pattern = "api.ecdotica.com/*", zone_name = "ecdotica.com" }

[env.production.vars]
ENVIRONMENT = "production"
DATABASE_URL = "URL_de_producción" # Ejemplo si usas DB

# Variables y configuración para entorno de desarrollo
[env.dev]
name = "ecdotica-api-dev"
# Puedes dejar sin route para usar workers.dev

[env.dev.vars]
ENVIRONMENT = "development"
DATABASE_URL = "URL_de_testing"

# Otros ejemplos de sección de CORS (deshabilitada por defecto)
# [env.production.vars]
# CORS_ORIGINS = "https://ecdotica.com,https://www.ecdotica.com"

# [env.dev.vars]
# CORS_ORIGINS = "*"
